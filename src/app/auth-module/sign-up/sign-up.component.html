<!--

SIGN UP COMPONENT: View

-->


<!--  Loading bar -->
<app-loading
  fullScreen="true"
  [message]="message"
  *ngIf="loading">
</app-loading>


<section *ngIf="!loading"
         class="account-container"
         fxLayout='column'
         fxLayoutAlign='center center'>

  <form
    novalidate
    [@visible]="visible"
    [formGroup]="accountForm"
    (ngSubmit)="signUp(accountForm)"
    fxLayout="column">


    <!--title-->
    <div fxLayout="row"
         fxLayoutAlign="start center">
      <h1>Sign Up</h1>

      <span fxFlex></span>

      <div fxLayout="row"
           fxLayoutAlign="center center"
           class="sign-up">
        <p>Have an account? </p>
        <a routerLink="/auth/login">Login</a>
      </div>
    </div>


    <div fxLayout="row wrap"
         fxLayoutAlign="start center">

      <!-- first name -->
      <mat-form-field>
        <input type="text"
               matInput
               autofocus
               placeholder="First Name"
               formControlName="firstName">
        <mat-error *ngIf="accountForm.get('firstName').touched && accountForm.get('firstName').hasError('required')">
          <strong>required</strong>
        </mat-error>
      </mat-form-field>


      <!-- last name -->
      <mat-form-field>
        <input type="text"
               matInput
               placeholder="Last Name"
               formControlName="lastName">
        <mat-error *ngIf="accountForm.get('lastName').touched && accountForm.get('lastName').hasError('required')">
          <strong>required</strong>
        </mat-error>
      </mat-form-field>


      <!-- email -->
      <mat-form-field fxFlex="100">
        <input type="email"
               matInput
               placeholder="Email"
               formControlName="email">
        <mat-error *ngIf="accountForm.get('email').touched && accountForm.get('email').hasError('pattern')">
          <strong>invalid email</strong>
        </mat-error>
        <mat-error *ngIf="accountForm.get('email').touched && accountForm.get('email').hasError('required')">
          <strong>required</strong>
        </mat-error>
      </mat-form-field>


      <!-- password -->
      <mat-form-field>
        <input matInput
               type="password"
               placeholder="Password"
               formControlName="password">
        <mat-error *ngIf="accountForm.get('password').touched && accountForm.get('password').hasError('minlength')">
          <strong>min 8 characters required</strong>
        </mat-error>
        <mat-error *ngIf="accountForm.get('password').touched && (accountForm.get('password').hasError('required'))">
          <strong>required</strong>
        </mat-error>
      </mat-form-field>


      <!-- confirm password -->
      <mat-form-field>
        <input matInput
               type="password"
               placeholder="Confirm Password"
               formControlName="confirmPassword">
        <mat-error *ngIf="accountForm.get('confirmPassword').touched && accountForm.get('confirmPassword').hasError('minlength')">
          <strong>min 8 characters required</strong>
        </mat-error>
        <mat-error *ngIf="accountForm.get('confirmPassword').touched && accountForm.get('confirmPassword').hasError('required')">
          <strong>required</strong>
        </mat-error>
        <mat-error *ngIf="accountForm.get('confirmPassword').touched && accountForm.get('confirmPassword').hasError('validMatch')">
          password's don't match
        </mat-error>
      </mat-form-field>

    </div>


    <!--action buttons-->
    <div fxLayout="row"
         class="action-buttons"
         fxLayoutAlign="start center">

      <div class="i-agree" fxLayout="row" fxLayoutAlign="start center">
        <mat-checkbox color="primary"
                      formControlName="iAgree">
        </mat-checkbox>
        <span>
            I agree to the
            <a href="#" target="_blank">Terms & Conditions,</a>
            <a href="#" target="_blank">Privacy Policy</a> and
            <a href="#" target="_blank">Copyright Policy</a>
        </span>
      </div>

      <span fxFlex></span>

      <button mat-raised-button
              class="submit-button"
              color="primary"
              type="submit"
              [disabled]="loading || accountForm.invalid">
        SIGN UP
      </button>
    </div>

  </form>

</section>
